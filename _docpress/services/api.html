
<div class="doc-layout">
  <div class="toggle menu-toggle js-menu-toggle"></div>
  <ul class="menu toc-menu">
    <li class="menu-item -level-0 -parent">
      <ul class="submenu">
        <li class="menu-item -level-1"><a class="link title  link-index" href="index.html">Tide</a>
        </li>
        <li class="menu-item -level-1 -parent"><a class="link title  link-installation" href="installation/index.html">Installation</a>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-installationprerequisites" href="installation/prerequisites.html">Prerequisites</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-installationcloning" href="installation/cloning.html">Cloning</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-installationsetup" href="installation/setup.html">Setup</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1 -parent"><a class="link title  link-services" href="services/index.html">Services</a>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title -active link-servicesapi" href="services/api.html">API</a>
              <ul class="headings heading-list">
                <li class="heading-item -depth-2"><a class="hlink link-environment-variables" href="#environment-variables">Environment Variables</a>
                </li>
                <li class="heading-item -depth-2"><a class="hlink link-commands" href="#commands">Commands</a>
                </li>
                <li class="heading-item -depth-2"><a class="hlink link-endpoints" href="#endpoints">Endpoints</a>
                  <ul class="heading-list -depth-2">
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auth" href="#apitidev1auth">`/api/tide/v1/auth`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1audit" href="#apitidev1audit">`/api/tide/v1/audit`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auditid" href="#apitidev1auditid">`/api/tide/v1/audit/{id}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auditaltid" href="#apitidev1auditaltid">`/api/tide/v1/audit/{altid}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auditproject_client" href="#apitidev1auditproject_client">`/api/tide/v1/audit/{project_client}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auditproject_clientproject_type" href="#apitidev1auditproject_clientproject_type">`/api/tide/v1/audit/{project_client}/{project_type}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auditproject_clientproject_typeproject_slug" href="#apitidev1auditproject_clientproject_typeproject_slug">`/api/tide/v1/audit/{project_client}/{project_type}/{project_slug}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1auditproject_clientproject_typeproject_slugversion" href="#apitidev1auditproject_clientproject_typeproject_slugversion">`/api/tide/v1/audit/{project_client}/{project_type}/{project_slug}/{version}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1reportidtypestandard" href="#apitidev1reportidtypestandard">`/api/tide/v1/report/{id}/{type}/{standard}`</a>
                    </li>
                    <li class="heading-item -depth-3"><a class="hlink link-apitidev1reportaltidtypestandard" href="#apitidev1reportaltidtypestandard">`/api/tide/v1/report/{altid}/{type}/{standard}`</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-servicessync-server" href="services/sync-server.html">Sync Server</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-servicesphpcs-server" href="services/phpcs-server.html">PHPCS Server</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-serviceslighthouse-server" href="services/lighthouse-server.html">Lighthouse Server</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1 -parent"><a class="link title  link-gcp" href="gcp/index.html">Google Cloud Platform</a>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-storage" href="gcp/google-cloud-storage.html">Google Cloud Storage</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-firestore" href="gcp/google-cloud-firestore.html">Google Cloud Firestore</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-sql" href="gcp/google-cloud-sql.html">Google Cloud SQL</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-cloud-memorystore" href="gcp/google-cloud-memorystore.html">Google Cloud Memorystore</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-app-engine" href="gcp/google-app-engine.html">Google App Engine</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-gcpgoogle-kubernetes-engine" href="gcp/google-kubernetes-engine.html">Google Kubernetes Engine</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1"><a class="link title  link-aws" href="aws/index.html">Amazon Web Services</a>
        </li>
        <li class="menu-item -level-1 -parent"><span class="title">Important Links</span>
          <ul class="submenu">
            <li class="menu-item -level-2"><a class="link title  link-help" href="help.html">Help</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-local-development" href="local-development.html">Local Development</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-contributing" href="contributing.html">Contributing</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-code-of-conduct" href="code-of-conduct.html">Code of Conduct</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-roadmap" href="roadmap.html">Roadmap</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-license" href="license.html">License</a>
            </li>
            <li class="menu-item -level-2"><a class="link title  link-search" href="search.html">API Search</a>
            </li>
          </ul>
        </li>
        <li class="menu-item -level-1"><a class="link title  link-404" href="404.html">404</a>
        </li>
      </ul>
    </li>
  </ul>
  <div class="body page-servicesapi">
    <div class="header-nav">
      <div class="right"><a class="iconlink" href="https://github.com/wptide/docs" data-title="wptide/docs" title="GitHub"><span class="icon -github"></span></a><a class="iconlink" href="https://make.wordpress.org/tide/" data-title="make.wordpress.org/tide" title="WordPress"><svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><path d="M10 500a490 490 0 1 0 980 0 490 490 0 0 0-980 0zm38 0c0-66 14-128 39-184l216 591A452 452 0 0 1 48 500zm452 452c-44 0-87-6-128-18l136-394 139 380 3 7c-47 16-97 25-150 25zm366-460a427 427 0 0 0 31-209 450 450 0 0 1-170 608l139-399zm-98-140c17 30 37 69 37 125 0 39-11 87-34 146l-45 151-164-486c28-1 52-4 52-4 24-3 22-39-3-38 0 0-73 6-120 6-45 0-119-6-119-6-25-1-28 36-3 38l47 4 71 193-99 297-165-490c27-1 52-4 52-4 24-3 21-39-3-38 0 0-73 6-121 6h-29a452 452 0 0 1 683-85l-5-1c-45 0-76 39-76 80 0 38 21 69 44 106z"/></svg></a></div>
    </div>
    <div class="markdown-body"><h1 id="api">API</h1>
<p>The Tide API is a Docker implementation of MySQL, PHP-FPM, and Nginx. The web server has WordPress installed with a documentation theme and a REST API for storing theme and plugin audits. If you plan on deploying to the cloud you should read the entire <a href="/gcp">Google Cloud Platform</a> section.</p>
<p><em>The API Docker containers must be up and running before you start any of the other services.</em></p>
<h2 id="environment-variables">Environment Variables</h2>
<table>
<thead>
<tr>
<th style="text-align:left">Variable</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>API_ADMIN_EMAIL</code></td>
<td style="text-align:left">The email associated with the local admin account. Default is <code>admin@tide.local</code>. <em>Note: unless you setup the Gmail SMTP plugin, any generated emails will not get sent by WordPress.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>API_ADMIN_PASSWORD</code></td>
<td style="text-align:left">The password associated with the local admin account. Default is <code>wordpress</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_ADMIN_USER</code></td>
<td style="text-align:left">The username associated with the local admin account. Default is <code>admin</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_AUTH_URL</code></td>
<td style="text-align:left">The <a href="https://github.com/wptide/wp-tide-api"><code>wp-tide-api</code></a> authentication REST endpoint, used both locally and on GCP. Default is <code>http://tide.local/api/tide/v1/auth</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_BLOG_DESCRIPTION</code></td>
<td style="text-align:left">Site tagline (set in Settings &gt; General). Default is <code>Automated insight into your WordPress code</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_BLOG_NAME</code></td>
<td style="text-align:left">Site title (set in Settings &gt; General). Default is <code>Tide</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_CACHE</code></td>
<td style="text-align:left">Whether caching should be active or not. Must be one of: <code>true</code>, <code>false</code>. Default is <code>true</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_CACHE_DEBUG</code></td>
<td style="text-align:left">Whether or not to display the caching headers for debugging. Must be one of: <code>true</code>, <code>false</code>. Default is <code>false</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_CACHE_KEY_SALT</code></td>
<td style="text-align:left">Cache key used to salt the redis object cache. Default is <code>xbIm5y$i&amp;mMtW9q93la5x*qoE0cvbjWxDTFq@4r3nHJc*ZcIiW@pI@2z$GC7BEz7</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_CACHE_TTL</code></td>
<td style="text-align:left">Sets the numeric time to live (TTL) in seconds for page caching. Default is <code>86400</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_DB_HOST</code></td>
<td style="text-align:left">The host of the local database, which connects to a Docker container. Default is <code>api-mysql</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_DB_NAME</code></td>
<td style="text-align:left">Name of the local database. Default is <code>wordpress</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_DB_PASSWORD</code></td>
<td style="text-align:left">Password used to access the local database. Default is <code>wordpress</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_DB_ROOT_PASSWORD</code></td>
<td style="text-align:left">The local database root password. Default is <code>wordpress</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_DB_USER</code></td>
<td style="text-align:left">Username used to access the local database. Default is <code>wordpress</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_HTTP_HOST</code></td>
<td style="text-align:left">The API domain name, used both locally and on GCP. Default is <code>tide.local</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_KEY</code></td>
<td style="text-align:left">The API key used both locally and on GCP to authenticate the <code>audit-server</code> user. Default is <code>uRhZgeYt$v5u0vR5fpcDSWcZU</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_PROTOCOL</code></td>
<td style="text-align:left">The API protocol, used both locally and on GCP Default is <code>http</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_REDIS_AUTH</code></td>
<td style="text-align:left">The Redis database password. Default is <code>redis</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_REDIS_DATABASE</code></td>
<td style="text-align:left">Use a specific numeric Redis database. Default is <code>0</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_REDIS_HOST</code></td>
<td style="text-align:left">The host where the Redis database can be reached. Default is <code>api-redis</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_REDIS_PORT</code></td>
<td style="text-align:left">The port where the Redis database can be reached. Default is <code>6379</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_SECRET</code></td>
<td style="text-align:left">The API secret used both locally and on GCP to authenticate the <code>audit-server</code> user. Default is <code>rVvUWQlPQr8trSEd2qdwmE4Eiua$MjLX</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_THEME</code></td>
<td style="text-align:left">The slug of the local WordPress theme. Default is <code>docs</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_UPLOAD_HANDLER</code></td>
<td style="text-align:left">Tells WordPress how media upload is handled. Uses either the local file system or Google Cloud Storage. Must be one of: <code>local</code>, <code>gcs</code>. Default is <code>local</code>. Default is <code>local</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>API_VERSION</code></td>
<td style="text-align:left">The API version found in the Tide API REST url, used both locally and on GCP. Default is <code>v1</code>.</td>
</tr>
</tbody>
</table>
<h2 id="commands">Commands</h2>
<table>
<thead>
<tr>
<th style="text-align:left">Command</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>make api.up</code></td>
<td style="text-align:left">Run the API Docker containers in isolation with docker-compose up.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.down</code></td>
<td style="text-align:left">Take the isolated API Docker containers down.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.stop</code></td>
<td style="text-align:left">Stop the isolated API Docker containers with docker-compose stop.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.rm</code></td>
<td style="text-align:left">Remove the stopped API Docker containers with docker-compose rm.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.composer</code></td>
<td style="text-align:left">Install the Composer dependencies. Runs <code>make api.tpl</code> automatically before installing the dependencies.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.setup</code></td>
<td style="text-align:left">Run the setup script; API containers must be running to <code>exec</code> into.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.tpl</code></td>
<td style="text-align:left">Generate the API YAML &amp; PHP templates.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.deploy.sql</code></td>
<td style="text-align:left">Deploy the Cloud SQL database and setup the database users.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.deploy.app</code></td>
<td style="text-align:left">Deploy the API to Google App Engine.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.deploy.redis</code></td>
<td style="text-align:left">Deploy the Google Cloud Memorystore Redis instance.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.get.redis</code></td>
<td style="text-align:left">Get metadata, including the internal VPC IP address, for the Google Cloud Memorystore Redis instance.</td>
</tr>
<tr>
<td style="text-align:left"><code>make api.clean.redis</code></td>
<td style="text-align:left">Delete the Google Cloud Memorystore Redis instance.</td>
</tr>
</tbody>
</table>
<h2 id="endpoints">Endpoints</h2>
<p>The Tide API has several endpoints. I&apos;ll try and cover them in as much detail as possible. One important workflow to note when working with the API is that you must authenticate with the API and generate a token that you then use to make authenticated requests.</p>
<h3 id="apitidev1auth"><code>/api/tide/v1/auth</code></h3>
<p>Generates a user specific JSON Web Token (JWT) by making a basic authentication <code>POST</code> request with an API key and secret &#x2014; which can be found on your user profile page.</p>
<h4 id="post"><code>POST</code></h4>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>api_key</code></td>
<td style="text-align:left">Tide user&apos;s API key.</td>
</tr>
<tr>
<td style="text-align:left"><code>api_secret</code></td>
<td style="text-align:left">Tide user&apos;s API secret.</td>
</tr>
</tbody>
</table>
<h4 id="usage">Usage</h4>
<p>Request a JWT with your API key and secret:</p>
<pre><code>curl -X POST \
    http://tide.local/api/tide/v1/auth \
    -F &apos;api_key=&lt;api_key&gt;&apos; \
    -F &apos;api_secret=&lt;api_secret&gt;&apos;
</code></pre>
<hr>
<h3 id="apitidev1audit"><code>/api/tide/v1/audit</code></h3>
<p>This endpoint is used to get audit results and generate audits. There are several ways to generate an audit and reports. One of them is to make a <code>POST</code> request to the audit endpoint in the Tide API. An unauthenticated <code>GET</code> request option is describe lower on this page and is specifically for the <code>wporg</code> user. Another possibility would be to create a message in the queue, but that requires more access than a simple Bearer token.</p>
<h4 id="get"><code>GET</code></h4>
<p>Request a collection of audits.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>context</code></td>
<td style="text-align:left">Scope under which the request is made; determines fields present in response - <code>view | embed | edit</code>. Default is <code>view</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>page</code></td>
<td style="text-align:left">Current page of the collection.</td>
</tr>
<tr>
<td style="text-align:left"><code>per_page</code></td>
<td style="text-align:left">Maximum number of items to be returned in result set. Default is <code>10</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>search</code></td>
<td style="text-align:left">Limit results to those matching a string.</td>
</tr>
<tr>
<td style="text-align:left"><code>after</code></td>
<td style="text-align:left">Limit response to posts published after a given ISO8601 compliant date.</td>
</tr>
<tr>
<td style="text-align:left"><code>author</code></td>
<td style="text-align:left">Limit result set to posts assigned to specific authors.</td>
</tr>
<tr>
<td style="text-align:left"><code>author_exclude</code></td>
<td style="text-align:left">Ensure result set excludes posts assigned to specific authors.</td>
</tr>
<tr>
<td style="text-align:left"><code>before</code></td>
<td style="text-align:left">Limit response to posts published before a given ISO8601 compliant date.</td>
</tr>
<tr>
<td style="text-align:left"><code>exclude</code></td>
<td style="text-align:left">Ensure result set excludes specific IDs.</td>
</tr>
<tr>
<td style="text-align:left"><code>include</code></td>
<td style="text-align:left">Limit result set to specific IDs.</td>
</tr>
<tr>
<td style="text-align:left"><code>offset</code></td>
<td style="text-align:left">Offset the result set by a specific number of items.</td>
</tr>
<tr>
<td style="text-align:left"><code>order</code></td>
<td style="text-align:left">Order sort attribute ascending or descending.</td>
</tr>
<tr>
<td style="text-align:left"><code>orderby</code></td>
<td style="text-align:left">Sort collection by object attribute.</td>
</tr>
<tr>
<td style="text-align:left"><code>slug</code></td>
<td style="text-align:left">Limit result set to posts with one or more specific slugs.</td>
</tr>
<tr>
<td style="text-align:left"><code>status</code></td>
<td style="text-align:left">Limit result set to posts assigned one or more statuses.</td>
</tr>
<tr>
<td style="text-align:left"><code>audit_project</code></td>
<td style="text-align:left">Limit result set to all items that have the specified term assigned in the audit_project taxonomy.</td>
</tr>
<tr>
<td style="text-align:left"><code>audit_project_exclude</code></td>
<td style="text-align:left">Limit result set to all items except those that have the specified term assigned in the audit_project taxonomy.</td>
</tr>
</tbody>
</table>
<h4 id="post"><code>POST</code></h4>
<p>Create an audit that generates various report standards for WordPress themes and plugins.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>title</code></td>
<td style="text-align:left">Title of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>content</code></td>
<td style="text-align:left">Description of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>slug</code></td>
<td style="text-align:left">The slug of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_type</code></td>
<td style="text-align:left">The type of project to audit. Must be one of: <code>theme</code>, <code>plugin</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>source_url</code></td>
<td style="text-align:left">The source to the <code>zip</code> file. <em>In the future we will support <code>git</code> repositories.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>source_type</code></td>
<td style="text-align:left">This must be <code>zip</code>. <em>In the future we will support <code>git</code> repositories.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>request_client</code></td>
<td style="text-align:left">The Tide API user login name.</td>
</tr>
<tr>
<td style="text-align:left"><code>force</code></td>
<td style="text-align:left">Force a re-audit for existing audit reports. Must be one of: <code>true</code>, <code>false</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>visibility</code></td>
<td style="text-align:left">Sets the visibility of an audit. Must be one of: <code>public</code> or <code>private</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>standards</code></td>
<td style="text-align:left">An array of available report standards. Must be one of: <code>phpcs_wordpress</code>, <code>phpcs_phpcompatibility</code>, <code>lighthouse</code>.</td>
</tr>
</tbody>
</table>
<h4 id="usage">Usage</h4>
<p>Create an audit by making a <code>POST</code> request:</p>
<pre><code>curl -X POST \
    http://tide.local/api/tide/v1/audit \
    -H &apos;Authorization: Bearer &lt;token&gt;&apos; \
    -F &apos;title=Twenty Seventeen&apos; \
    -F &apos;content=Twenty Seventeen brings your site to life with header video and immersive featured images.&apos; \
    -F &apos;slug=twentyseventeen&apos; \
    -F &apos;project_type=theme&apos; \
    -F &apos;source_url=https://downloads.wordpress.org/theme/twentyseventeen.2.1.zip&apos; \
    -F &apos;source_type=zip&apos; \
    -F &apos;request_client=wporg&apos; \
    -F &apos;force=false&apos; \
    -F &apos;visibility=public&apos; \
    -F &apos;standards[]=phpcs_wordpress&apos; \
    -F &apos;standards[]=phpcs_phpcompatibility&apos;
</code></pre>
<hr>
<h3 id="apitidev1auditid"><code>/api/tide/v1/audit/{id}</code></h3>
<p>Similar to the previous endpoint but strictly used to make requests to existing audits.</p>
<h4 id="get"><code>GET</code></h4>
<p>Get an audit by <code>id</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">Unique identifier for the object.</td>
</tr>
</tbody>
</table>
<h4 id="post"><code>POST</code></h4>
<p>Update an audit by <code>id</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">Unique identifier for the object.</td>
</tr>
<tr>
<td style="text-align:left"><code>title</code></td>
<td style="text-align:left">Title of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>content</code></td>
<td style="text-align:left">Description of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>slug</code></td>
<td style="text-align:left">The slug of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_type</code></td>
<td style="text-align:left">The type of project to audit. Must be one of: <code>theme</code>, <code>plugin</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>source_url</code></td>
<td style="text-align:left">The source to the <code>zip</code> file. <em>In the future we will support <code>git</code> repositories.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>source_type</code></td>
<td style="text-align:left">This must be <code>zip</code>. <em>In the future we will support <code>git</code> repositories.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>request_client</code></td>
<td style="text-align:left">The Tide API user login name.</td>
</tr>
<tr>
<td style="text-align:left"><code>force</code></td>
<td style="text-align:left">Force a re-audit for existing audit reports. Must be one of: <code>true</code>, <code>false</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>visibility</code></td>
<td style="text-align:left">Sets the visibility of an audit. Must be one of: <code>public</code> or <code>private</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>standards</code></td>
<td style="text-align:left">An array of available report standards. Must be one of: <code>phpcs_wordpress</code>, <code>phpcs_phpcompatibility</code>, <code>lighthouse</code>.</td>
</tr>
</tbody>
</table>
<h4 id="delete">DELETE</h4>
<p>Delete an audit by <code>id</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">Unique identifier for the object.</td>
</tr>
<tr>
<td style="text-align:left"><code>force</code></td>
<td style="text-align:left">Whether to bypass trash and force deletion. Must be one of: <code>true</code>, <code>false</code>.</td>
</tr>
</tbody>
</table>
<h4 id="usage">Usage</h4>
<p>Retrieve the audit with a <code>GET</code> request:</p>
<pre><code>curl -X GET http://tide.local/api/tide/v1/audit&lt;id&gt;
</code></pre>
<p>Update the title by making a <code>POST</code> request:</p>
<pre><code>curl -X POST \
    http://tide.local/api/tide/v1/audit/&lt;id&gt; \
    -H &apos;Authorization: Bearer &lt;token&gt;&apos; \
    -F &apos;title=Something New!&apos;
</code></pre>
<p>Force all the report standards to be re-audited by making a <code>POST</code> request:</p>
<pre><code>curl -X POST \
    http://tide.local/api/tide/v1/audit/233 \
    -H &apos;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NTEyNDA4MTMsImlzcyI6Imh0dHA6XC9cL3RpZGUubG9jYWwiLCJleHAiOjE1NTM4MzI4MTMsImRhdGEiOnsiY2xpZW50Ijp7ImlkIjoyLCJ0eXBlIjoid3BfdXNlciJ9fX0.dmVMm9udpZBV4PXPpXrTOTAf-F3sC3R-iE9zHElu1yo&apos; \
    -F &apos;force=true&apos; \
    -F &apos;standards[]=phpcs_wordpress&apos; \
    -F &apos;standards[]=phpcs_phpcompatibility&apos; \
    -F &apos;standards[]=lighthouse&apos;
</code></pre>
<p><em>And adds the Lighthouse report that was missing in the <code>/api/tide/v1/audit</code> example above.</em></p>
<p>Remove the audit with a <code>DELETE</code> request and bypass the trash:</p>
<pre><code>curl -X DELETE \
    http://tide.local/api/tide/v1/audit/&lt;id&gt; \
    -H &apos;Authorization: Bearer &lt;token&gt;&apos; \
    -F &apos;force=true&apos;
</code></pre>
<hr>
<h3 id="apitidev1auditaltid"><code>/api/tide/v1/audit/{altid}</code></h3>
<p>This endpoint is nearly identical to the previous one, except you are using the audit&apos;s altid (e.g. checksum) to make your requests. A checksum is an MD5 hash string from the contents of a directory.</p>
<h4 id="get"><code>GET</code></h4>
<p>Get an audit by <code>altid</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>altid</code></td>
<td style="text-align:left">An alternate unique id to query on (e.g. checksum).</td>
</tr>
</tbody>
</table>
<h4 id="post"><code>POST</code></h4>
<p>Update an audit by <code>altid</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>altid</code></td>
<td style="text-align:left">An alternate unique id to query on (e.g. checksum).</td>
</tr>
<tr>
<td style="text-align:left"><code>title</code></td>
<td style="text-align:left">Title of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>content</code></td>
<td style="text-align:left">Description of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>slug</code></td>
<td style="text-align:left">The slug of the plugin or theme.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_type</code></td>
<td style="text-align:left">The type of project to audit. Must be one of: <code>theme</code>, <code>plugin</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>source_url</code></td>
<td style="text-align:left">The source to the <code>zip</code> file. <em>In the future we will support <code>git</code> repositories.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>source_type</code></td>
<td style="text-align:left">This must be <code>zip</code>. <em>In the future we will support <code>git</code> repositories.</em></td>
</tr>
<tr>
<td style="text-align:left"><code>request_client</code></td>
<td style="text-align:left">The Tide API user login name.</td>
</tr>
<tr>
<td style="text-align:left"><code>force</code></td>
<td style="text-align:left">Force a re-audit for existing audit reports. Must be one of: <code>true</code>, <code>false</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>visibility</code></td>
<td style="text-align:left">Sets the visibility of an audit. Must be one of: <code>public</code> or <code>private</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>standards</code></td>
<td style="text-align:left">An array of available report standards. Must be one of: <code>phpcs_wordpress</code>, <code>phpcs_phpcompatibility</code>, <code>lighthouse</code>.</td>
</tr>
</tbody>
</table>
<h4 id="delete"><code>DELETE</code></h4>
<p>Delete an audit by <code>altid</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>altid</code></td>
<td style="text-align:left">An alternate unique id to query on (e.g. checksum).</td>
</tr>
<tr>
<td style="text-align:left"><code>force</code></td>
<td style="text-align:left">Whether to bypass trash and force deletion.</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="apitidev1auditproject_client"><code>/api/tide/v1/audit/{project_client}</code></h3>
<h4 id="get"><code>GET</code></h4>
<p>Get an audit collection for a project client.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>project_client</code></td>
<td style="text-align:left">The Tide API user login name representing a project client.</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="apitidev1auditproject_clientproject_type"><code>/api/tide/v1/audit/{project_client}/{project_type}</code></h3>
<h4 id="get"><code>GET</code></h4>
<p>Get a theme or plugin audit collection for a project client.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>project_client</code></td>
<td style="text-align:left">The Tide API user login name representing a project client.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_type</code></td>
<td style="text-align:left">The project type. Must be one of: <code>theme</code>, <code>plugin</code>.</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="apitidev1auditproject_clientproject_typeproject_slug"><code>/api/tide/v1/audit/{project_client}/{project_type}/{project_slug}</code></h3>
<h4 id="get"><code>GET</code></h4>
<p>Get an audit for a theme or plugin defined by a project client and slug.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>project_client</code></td>
<td style="text-align:left">The Tide API user login name representing a project client.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_type</code></td>
<td style="text-align:left">The project type. Must be one of: <code>theme</code>, <code>plugin</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_slug</code></td>
<td style="text-align:left">The taxonomy term representing the project slug.</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="apitidev1auditproject_clientproject_typeproject_slugversion"><code>/api/tide/v1/audit/{project_client}/{project_type}/{project_slug}/{version}</code></h3>
<p>This endpoint can be used to make unauthenticated audit requests on behalf of the <code>wporg</code> user if the audit doesn&apos;t already exist. With the <code>wporg</code> user token I could also send an authenticated request to this endpoint and force a re-audit if the audit does exist.</p>
<h4 id="get"><code>GET</code></h4>
<p>Get an audit for a theme or plugin defined by a project client, slug and version.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>project_client</code></td>
<td style="text-align:left">The Tide API user login name representing a project client.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_type</code></td>
<td style="text-align:left">The project type. Must be one of: <code>theme</code>, <code>plugin</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>project_slug</code></td>
<td style="text-align:left">The taxonomy term representing the project slug.</td>
</tr>
<tr>
<td style="text-align:left"><code>version</code></td>
<td style="text-align:left">The project version number.</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="apitidev1reportidtypestandard"><code>/api/tide/v1/report/{id}/{type}/{standard}</code></h3>
<p>This endpoint is authenticated and requires a Bearer token. As well, you can only view reports associated with your account. The response is a temporary download link for the report &#x2014; keeping sensitive data safe and secure is important to us.</p>
<h4 id="get"><code>GET</code></h4>
<p>Get a specific <code>type</code> of report by <code>id</code> and <code>standard</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">Unique identifier for the audit object.</td>
</tr>
<tr>
<td style="text-align:left"><code>type</code></td>
<td style="text-align:left">The report type. Must be one of: <code>raw</code>, <code>parsed</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>standard</code></td>
<td style="text-align:left">The report standard. Must be one of: <code>phpcs_wordpress</code>, <code>phpcs_phpcompatibility</code>, <code>lighthouse</code>.</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="apitidev1reportaltidtypestandard"><code>/api/tide/v1/report/{altid}/{type}/{standard}</code></h3>
<p>This endpoint has the same restrictions as above.</p>
<h4 id="get"><code>GET</code></h4>
<p>Get a specific <code>type</code> of report by <code>altid</code> and <code>standard</code>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Parameter</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>altid</code></td>
<td style="text-align:left">An alternate unique id to query on (e.g. checksum).</td>
</tr>
<tr>
<td style="text-align:left"><code>type</code></td>
<td style="text-align:left">The report type. Must be one of: <code>raw</code>, <code>parsed</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>standard</code></td>
<td style="text-align:left">The report standard. Must be one of: <code>phpcs_wordpress</code>, <code>phpcs_phpcompatibility</code>, <code>lighthouse</code>.</td>
</tr>
</tbody>
</table>

    </div>
    <div class="footer-nav">
      <div class="left"><a href="../services/index.html"><span class="title">Services</span></a></div>
      <div class="right"><a href="../services/sync-server.html"><span class="label">Next: </span><span class="title">Sync Server</span></a></div>
    </div>
  </div>
</div>